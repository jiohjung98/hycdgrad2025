<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Interactive Background</title>
    <meta name="description" content="p5.js reactive background" />
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.3/lib/p5.min.js"></script>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: "Pretendard", sans-serif;
        overflow: hidden;
        background-color: #000;
        position: fixed;
        top: 0;
        left: 0;
        overscroll-behavior: none;
        -webkit-overflow-scrolling: touch;
        touch-action: none;
      }

      /* p5.js 캔버스 */
      #bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }

      /* Coming Soon 텍스트 */
      .coming-soon {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        font-family: "Pretendard", sans-serif;
        font-weight: 600;
        text-align: center;
        z-index: 10;
        transition: top 0.2s ease, font-size 0.2s ease, color 0.2s ease;
      }

      /* Footer */
      .footer {
        position: fixed;
        bottom: 30px;
        left: 0;
        width: 100%;
        z-index: 10;
        color: #ccf3f1;
        padding: 0;
        box-sizing: border-box;
      }

      .footer-container {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 15.66px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .footer-text div {
        margin: 0;
        color: #FDFBED;
        font-family: "Pretendard", sans-serif;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: 140%; /* 19.6px */
        leading-trim: both;
        text-edge: cap;
      }

      .copyright {
        color: #FDFBED;
        font-family: "Pretendard", sans-serif;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: 140%; /* 19.6px */
        leading-trim: both;
        text-edge: cap;
      }

      .footer-icons {
        display: flex;
        align-items: center;
        gap: 15.66px;
      }

      .icon {
        display: block;
        height: auto;
      }

      .icon1 {
        width: 42.023px;
        height: 40.978px;
        flex-shrink: 0;
      }
      .icon2 {
        width: 37.113px;
        height: 37.113px;
        flex-shrink: 0;
      }

      /* 모바일 스타일 (768px 이하) */
      @media (max-width: 768px) {
        .footer-container {
          gap: 12.22px; /* 아이콘과 텍스트 간격 */
        }

        .footer-icons {
          gap: 10.49px; /* 아이콘들 간 간격 */
        }

        .footer-text div {
          color: #FDFBED;
          font-family: "Pretendard", sans-serif;
          font-size: 10px;
          font-style: normal;
          font-weight: 500;
          line-height: 140%; /* 14px */
          leading-trim: both;
          text-edge: cap;
        }

        .copyright {
          color: #FDFBED;
          font-family: "Pretendard", sans-serif;
          font-size: 10px;
          font-style: normal;
          font-weight: 500;
          line-height: 140%; /* 14px */
          leading-trim: both;
          text-edge: cap;
        }

        .icon1 {
          width: 28.143px;
          height: 27.447px;
          flex-shrink: 0;
        }

        .icon2 {
          width: 26.3px;
          height: 26.3px;
          flex-shrink: 0;
        }
      }

    </style>
  </head>
  <body>
    <div id="bg"></div>
    <script src="./art2.js"></script>
    <!-- <div class="coming-soon" id="comingSoon">Coming Soon 10/22</div> -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-icons">
          <img src="/landing_footericon1.svg" alt="HYCD Icon" class="icon icon1" />
          <img
            src="/landing_footericon2.svg"
            alt="Hanyang University Seal"
            class="icon icon2"
          />
        </div>
        <div class="footer-text">
          <div>2025 한양대학교 ERICA 디자인대학</div>
          <div class="copyright">커뮤니케이션디자인학과 졸업전시회</div>
        </div>
      </div>
    </footer>

    <script>
      // 모바일 스크롤 완전 차단
      document.addEventListener('DOMContentLoaded', function() {
        // 푸터 높이를 동적으로 계산해서 전체 화면 조정
        function adjustViewport() {
          const footer = document.querySelector('.footer');
          const viewportHeight = window.innerHeight;
          
          if (footer) {
            // 푸터의 실제 높이 측정
            footer.style.transform = 'scale(1)';
            const footerHeight = footer.offsetHeight;
            const footerBottom = footer.getBoundingClientRect().bottom;
            
            // 푸터가 화면을 넘으면 스케일 조정
            if (footerBottom > viewportHeight) {
              const availableHeight = viewportHeight - 30; // 30px 여백
              const scale = availableHeight / footerHeight;
              footer.style.transform = `scale(${Math.max(0.3, scale)})`;
              footer.style.transformOrigin = 'center bottom';
            }
            
            // 전체 화면 높이를 푸터 높이에 맞게 조정
            const finalFooterHeight = footer.getBoundingClientRect().height;
            const totalContentHeight = finalFooterHeight + 30; // 푸터 + 여백
            
            // body 높이를 동적으로 설정
            document.body.style.height = `${viewportHeight}px`;
            document.documentElement.style.height = `${viewportHeight}px`;
          }
        }
        
        // 초기 설정
        setTimeout(adjustViewport, 100);
        
        // 모든 이벤트 차단
        document.addEventListener('touchmove', function(e) {
          e.preventDefault();
        }, { passive: false });
        
        document.addEventListener('wheel', function(e) {
          e.preventDefault();
        }, { passive: false });
        
        document.addEventListener('scroll', function(e) {
          e.preventDefault();
          window.scrollTo(0, 0);
        }, { passive: false });
        
        // 스크롤 위치 강제 고정
        function lockScroll() {
          window.scrollTo(0, 0);
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }
        
        // 이벤트 리스너
        window.addEventListener('resize', adjustViewport);
        window.addEventListener('orientationchange', adjustViewport);
        
        // 주기적 스크롤 고정 및 뷰포트 조정
        setInterval(() => {
          lockScroll();
          adjustViewport();
        }, 100);
      });

      const coming = document.getElementById("comingSoon");
      const footer = document.querySelector(".footer");
    </script>
  </body>
</html>
